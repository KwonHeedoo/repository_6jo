<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.scit6jo.web.dao.MypageMapper">
	
	<!-- 닉네임 중복체크 -->
	<select id="nicknameCheck" parameterType="User" resultType="User">
		select * 
		from userlist
		where nickname=#{nickname}
	</select>
	 
	<!-- 개인정보 수정 -->  
	<update id="infoUpdate" parameterType="User">
		update userlist
		set username=#{username}, nickname=#{nickname}, email=#{email}, birthdate=#{birthdate}
		where userid=#{userid} and userpwd=#{userpwd}		
	</update>  
	
	<!-- 비밀번호 수정 -->  
	<update id="pwdChange" parameterType="map">
		update userlist
		set userpwd = #{newpwd}
		where userid = #{userid}
		and userpwd = #{currpwd}		
	</update>  
	
	<!-- 회원탈퇴 -->
	<delete id="unregister" parameterType="User">
		delete from userlist
		where userid = #{userid}
		and userpwd = #{userpwd}		
	</delete> 
</mapper>
