<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.scit6jo.web.dao.MypageMapper">
	<insert id="saveSchedule" parameterType="Schedule">
	 INSERT INTO schedule(
	 	 userid
	 	,title
	 	<if test="allDay!=null">
	 	,allday
	 	</if>
	 	<if test="endDate!=null">
	 	,enddate
	 	</if>
	 	,startdate
	 	,s_id
	 )
	 VALUES(
	 	 #{userid}
	 	,#{title}
	 	<if test="allDay!=null">
	 	,#{allDay}
	 	</if>
	 	<if test="endDate!=null">
	 	,#{endDate}
	 	</if>
	 	,#{startDate}
	 	,schedule_seq.nextval
	 )
	</insert>
	
	<select id="getSchedule" parameterType="String" resultType="Schedule">
	SELECT title, allday, startdate, enddate, s_id
	from schedule
	where userid = #{userid}
	</select>
	
	<delete id="removeSchedule" parameterType="String">
	DELETE FROM schedule
	where s_id =#{id}
	</delete>
	
</mapper>
